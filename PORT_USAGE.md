# ç«¯å£é…ç½®ä½¿ç”¨è¯´æ˜

## ğŸš€ å¤šç§å¯åŠ¨æ–¹å¼

ç°åœ¨ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å¤šç§æ–¹å¼æŒ‡å®šå¼€å‘æœåŠ¡å™¨çš„ç«¯å£å·ï¼š

### æ–¹å¼ 1: é€šè¿‡ npm è„šæœ¬ï¼ˆæ¨èï¼‰

#### ä½¿ç”¨é»˜è®¤ç«¯å£ (3000)
```bash
npm run electron:dev
```

#### æŒ‡å®šè‡ªå®šä¹‰ç«¯å£
```bash
# æ–¹æ³•1: ä½¿ç”¨ npm config æ–¹å¼ï¼ˆæ¨èï¼‰
npm run electron:dev --port=3005
npm run dev:port --port=3005

# æ–¹æ³•2: ä½¿ç”¨ç¯å¢ƒå˜é‡
npm config set port 3005 && npm run electron:dev
```

### æ–¹å¼ 2: ç›´æ¥æ‰§è¡Œ Node.js è„šæœ¬
```bash
# ä½¿ç”¨é»˜è®¤ç«¯å£ 3000
node scripts/dev.js

# æŒ‡å®šè‡ªå®šä¹‰ç«¯å£
node scripts/dev.js --port 3005
node scripts/dev.js --port 8080
node scripts/dev.js --port 5173
```

### æ–¹å¼ 3: ä½œä¸ºå¯æ‰§è¡Œè„šæœ¬ï¼ˆUnix/Linux/macOSï¼‰
```bash
# é¦–æ¬¡éœ€è¦æ·»åŠ æ‰§è¡Œæƒé™
chmod +x scripts/dev.js

# ä½¿ç”¨é»˜è®¤ç«¯å£
./scripts/dev.js

# æŒ‡å®šè‡ªå®šä¹‰ç«¯å£
./scripts/dev.js --port 3005
./scripts/dev.js --port 8080
```

### æ–¹å¼ 4: ä»é¡¹ç›®æ ¹ç›®å½•ç›´æ¥æ‰§è¡Œ
```bash
# ä½¿ç”¨é»˜è®¤ç«¯å£
scripts/dev.js

# æŒ‡å®šè‡ªå®šä¹‰ç«¯å£
scripts/dev.js --port 3005
scripts/dev.js --port 8080
```

## ğŸ¯ æ¨èä½¿ç”¨æ–¹å¼

### **æœ€ç®€å•çš„æ–¹å¼**ï¼š
```bash
# ç›´æ¥æ‰§è¡Œè„šæœ¬
node scripts/dev.js --port 3005

# æˆ–è€…ä½¿ç”¨ npm è„šæœ¬
npm run dev:port --port 3005
```

### **å›¢é˜Ÿåä½œæ¨è**ï¼š
```bash
# ç»Ÿä¸€ä½¿ç”¨ npm è„šæœ¬ï¼Œä¾¿äºå›¢é˜Ÿæˆå‘˜ç†è§£
npm run electron:dev --port 3005
```

## ğŸ”§ æŠ€æœ¯å®ç°

### ä¿®æ”¹çš„æ–‡ä»¶ï¼š

1. **package.json**
   - ä¿®æ”¹äº† `electron:dev` è„šæœ¬ï¼Œç°åœ¨ä½¿ç”¨è‡ªå®šä¹‰çš„ `scripts/dev.js`
   - æ·»åŠ äº† `dev:port` è„šæœ¬ä½œä¸ºç‹¬ç«‹çš„ç«¯å£é…ç½®é€‰é¡¹

2. **scripts/dev.js** (æ–°æ–‡ä»¶)
   - è§£æå‘½ä»¤è¡Œå‚æ•°ä¸­çš„ `--port` é€‰é¡¹
   - è®¾ç½®ç¯å¢ƒå˜é‡ `VITE_PORT`
   - æŒ‰é¡ºåºå¯åŠ¨ Vite å’Œ Electron
   - è‡ªåŠ¨åˆ‡æ¢åˆ°é¡¹ç›®æ ¹ç›®å½•ï¼Œæ”¯æŒä»ä»»ä½•ä½ç½®æ‰§è¡Œ
   - æ™ºèƒ½è¿›ç¨‹ç®¡ç†å’Œé”™è¯¯å¤„ç†

3. **vite.config.js**
   - æ”¯æŒä»ç¯å¢ƒå˜é‡ `VITE_PORT` è¯»å–ç«¯å£å·
   - è®¾ç½® `strictPort: false` å…è®¸ç«¯å£è‡ªåŠ¨é€’å¢

4. **main.js**
   - Electron ä¸»è¿›ç¨‹ç°åœ¨ä»ç¯å¢ƒå˜é‡è¯»å–ç«¯å£å·
   - åŠ¨æ€æ„å»º `http://localhost:${port}` URL

## ğŸ¯ ä½¿ç”¨åœºæ™¯

- **ç«¯å£å†²çª**: å½“é»˜è®¤ç«¯å£ 3000 è¢«å ç”¨æ—¶
- **å¤šå®ä¾‹å¼€å‘**: åŒæ—¶è¿è¡Œå¤šä¸ªä¸åŒç«¯å£çš„å®ä¾‹
- **å›¢é˜Ÿåä½œ**: ç»Ÿä¸€ä½¿ç”¨ç‰¹å®šç«¯å£å·
- **CI/CD**: åœ¨è‡ªåŠ¨åŒ–ç¯å¢ƒä¸­æŒ‡å®šç«¯å£

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç«¯å£å·è¦æ±‚**: ç«¯å£å·å¿…é¡»æ˜¯æœ‰æ•ˆçš„æ•°å­— (1-65535)
2. **ç«¯å£å ç”¨**: ç¡®ä¿æŒ‡å®šçš„ç«¯å£æ²¡æœ‰è¢«å…¶ä»–åº”ç”¨å ç”¨
3. **è‡ªåŠ¨é€’å¢**: å¦‚æœæŒ‡å®šçš„ç«¯å£è¢«å ç”¨ï¼ŒVite ä¼šè‡ªåŠ¨å°è¯•ä¸‹ä¸€ä¸ªå¯ç”¨ç«¯å£
4. **æ‰§è¡Œç›®å½•**: è„šæœ¬ä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°é¡¹ç›®æ ¹ç›®å½•ï¼Œå¯ä»¥ä»ä»»ä½•ä½ç½®æ‰§è¡Œ
5. **ä¾èµ–è¦æ±‚**: ç¡®ä¿å·²è¿è¡Œ `npm install` å®‰è£…äº†æ‰€æœ‰ä¾èµ–
6. **Node.js ç¯å¢ƒ**: ç¡®ä¿ç³»ç»Ÿå·²å®‰è£… Node.js

## ğŸ” æ•…éšœæ’é™¤

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
- ç«¯å£å·æ˜¯å¦ä¸ºæœ‰æ•ˆæ•°å­—
- ç«¯å£æ˜¯å¦è¢«å…¶ä»–åº”ç”¨å ç”¨
- é˜²ç«å¢™æ˜¯å¦é˜»æ­¢äº†ç«¯å£è®¿é—®
- æ˜¯å¦åœ¨é¡¹ç›®æ ¹ç›®å½•æˆ–å·²æ­£ç¡®å®‰è£…ä¾èµ–
- Node.js ç‰ˆæœ¬æ˜¯å¦å…¼å®¹

## ğŸ“ å®Œæ•´ç¤ºä¾‹

### npm è„šæœ¬æ–¹å¼
```bash
# é»˜è®¤ç«¯å£ 3000
npm run electron:dev

# æŒ‡å®šç«¯å£ 3005ï¼ˆæ¨èæ–¹å¼ï¼‰
npm run electron:dev --port=3005
npm run dev:port --port=3005

# æŒ‡å®šç«¯å£ 8080
npm run electron:dev --port=8080
npm run dev:port --port=8080
```

### ç›´æ¥æ‰§è¡Œè„šæœ¬æ–¹å¼
```bash
# é»˜è®¤ç«¯å£ 3000
node scripts/dev.js

# æŒ‡å®šç«¯å£ 3005
node scripts/dev.js --port 3005

# æŒ‡å®šç«¯å£ 8080
node scripts/dev.js --port 8080
```

### å¯æ‰§è¡Œè„šæœ¬æ–¹å¼ï¼ˆUnix/Linux/macOSï¼‰
```bash
# æ·»åŠ æ‰§è¡Œæƒé™ï¼ˆä»…éœ€ä¸€æ¬¡ï¼‰
chmod +x scripts/dev.js

# é»˜è®¤ç«¯å£ 3000
./scripts/dev.js

# æŒ‡å®šç«¯å£ 3005
./scripts/dev.js --port 3005

# æŒ‡å®šç«¯å£ 8080
./scripts/dev.js --port 8080
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

é€‰æ‹©ä½ å–œæ¬¢çš„æ–¹å¼ï¼š

1. **ç®€å•å¿«é€Ÿ**: `node scripts/dev.js --port 3005`
2. **æ ‡å‡†æ–¹å¼**: `npm run electron:dev --port=3005`
3. **ç‹¬ç«‹è„šæœ¬**: `npm run dev:port --port=3005`

## ğŸ”§ å‚æ•°ä¼ é€’è¯´æ˜

### npm è„šæœ¬å‚æ•°ä¼ é€’çš„æ­£ç¡®æ–¹å¼ï¼š

1. **ä½¿ç”¨ç­‰å·**: `npm run electron:dev --port=3005` âœ…
2. **ç›´æ¥ä¼ é€’**: `npm run electron:dev 3005` âŒ (ä¸æ¨è)
3. **ç©ºæ ¼åˆ†éš”**: `npm run electron:dev --port 3005` âŒ (npm ä¸æ”¯æŒ)

### ç›´æ¥æ‰§è¡Œè„šæœ¬æ”¯æŒæ‰€æœ‰æ ¼å¼ï¼š

1. `node scripts/dev.js --port 3005` âœ…
2. `node scripts/dev.js --port=3005` âœ…
3. `node scripts/dev.js 3005` âœ…
